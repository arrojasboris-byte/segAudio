<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<title>Gesti√≥n Audio - Plataforma Mejorada</title>

<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
/* ===========================
   ESTILOS GENERALES
   =========================== */
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #f4f4f4;
}

/* Colores corporativos */
:root {
    --rojo: #E60000;
    --negro: #111;
    --gris: #d9d9d9;
    --blanco: #fff;
}

/* ===========================
   SIDEBAR
   =========================== */
.sidebar {
    position: fixed;
    top: 0;
    left: 0;
    width: 240px;
    height: 100vh;
    background: var(--negro);
    color: var(--blanco);
    padding-top: 20px;
}

.sidebar h2 {
    text-align: center;
    color: var(--rojo);
    margin-bottom: 30px;
    font-size: 20px;
    font-weight: bold;
}

.sidebar a {
    display: block;
    padding: 14px 22px;
    color: var(--blanco);
    text-decoration: none;
    font-size: 16px;
    border-bottom: 1px solid rgba(255,255,255,0.1);
    cursor: pointer;
}

.sidebar a:hover,
.sidebar a.active {
    background: var(--rojo);
}

/* ===========================
   HEADER
   =========================== */
.header {
    margin-left: 240px;
    height: 60px;
    background: var(--blanco);
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 25px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

/* ===========================
   CONTENIDO PRINCIPAL
   =========================== */
.main {
    margin-left: 240px;
    padding: 30px;
}

/* Tarjetas KPI */
.kpi-box {
    background: var(--blanco);
    width: 180px;
    padding: 18px;
    border-radius: 12px;
    box-shadow: 0 3px 6px rgba(0,0,0,0.15);
    border-left: 6px solid var(--rojo);
}

.kpi-title {
    font-size: 14px;
    font-weight: bold;
    color: var(--negro);
}

.kpi-value {
    font-size: 26px;
    margin-top: 8px;
    color: var(--rojo);
}

/* Titulares */
.section-title {
    font-size: 22px;
    font-weight: bold;
    margin: 20px 0 10px 0;
    color: var(--rojo);
}

/* Gr√°ficos */
.chart-container {
    background: var(--blanco);
    padding: 20px;
    border-radius: 12px;
    margin-top: 20px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.15);
}

</style>
</head>
<body>
<!-- ===========================
     SIDEBAR LATERAL
     =========================== -->
<div class="sidebar">
    <h2>GESTI√ìN AUDIO</h2>

    <a class="active" onclick="showPage('dashboard')">üìä Dashboard</a>
    <a onclick="showPage('centros')">üìç Centros</a>
    <a onclick="showPage('visitas')">üìÖ Visitas</a>
    <a onclick="showPage('exclusivos')">‚≠ê Exclusivos</a>
    <a onclick="showPage('aar')">üéß Servicio AAR</a>
    <a onclick="showPage('proyectos')">üìÇ Proyectos</a>
</div>

<!-- ===========================
     HEADER SUPERIOR
     =========================== -->
<div class="header">
    <div style="font-size: 18px; font-weight: bold; color: var(--negro);">
        Plataforma Gesti√≥n Audio
    </div>

    <div>
        <button onclick="toggleTheme()" 
            style="background: var(--rojo); color: white; border:none; padding:8px 14px; border-radius:8px; cursor:pointer;">
            Modo Claro/Oscuro
        </button>
    </div>
</div>

<!-- ===========================
     CONTENEDOR PRINCIPAL
     =========================== -->
<div class="main">

    <!-- DASHBOARD (M√≥dulo principal) -->
    <section id="dashboard" style="display:block;">
        <h1 class="section-title">üìä Dashboard General</h1>

        <!-- KPIs SUPERIORES -->
        <div style="display:flex; gap:20px; flex-wrap:wrap;">
            <div class="kpi-box">
                <div class="kpi-title">Procesos</div>
                <div class="kpi-value" id="kpiProcesos">87%</div>
            </div>

            <div class="kpi-box">
                <div class="kpi-title">Formaciones</div>
                <div class="kpi-value" id="kpiFormaciones">82%</div>
            </div>

            <div class="kpi-box">
                <div class="kpi-title">Conv. Prueba</div>
                <div class="kpi-value" id="kpiPrueba">78%</div>
            </div>

            <div class="kpi-box">
                <div class="kpi-title">Conv. Venta</div>
                <div class="kpi-value" id="kpiVenta">81%</div>
            </div>

            <div class="kpi-box">
                <div class="kpi-title">HIT</div>
                <div class="kpi-value" id="kpiHit">SI</div>
            </div>

            <div class="kpi-box">
                <div class="kpi-title">Implantaci√≥n</div>
                <div class="kpi-value" id="kpiImplantacion">Completa</div>
            </div>
        </div>

        <!-- GR√ÅFICA EVOLUTIVA -->
        <div class="chart-container">
            <h3 class="section-title">Evoluci√≥n Mensual (Ago‚ÄìJul)</h3>
            <canvas id="chartEvolucion"></canvas>
        </div>

        <!-- √ÅREAS DE MEJORA -->
        <div class="chart-container">
            <h3 class="section-title">√Åreas de Mejora (Top 5)</h3>
            <canvas id="chartMejora"></canvas>
        </div>

        <!-- RANKING -->
        <div class="chart-container">
            <h3 class="section-title">Ranking KPI</h3>
            <table id="tablaRanking" style="width:100%; border-collapse:collapse;">
                <thead>
                    <tr style="background:#eee;">
                        <th>Centro</th>
                        <th>Delegado</th>
                        <th>Procesos</th>
                        <th>Formaci√≥n</th>
                        <th>Conv. Prueba</th>
                        <th>Conv. Venta</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Pamplona</td>
                        <td>Eneritz</td>
                        <td>92%</td>
                        <td>85%</td>
                        <td>81%</td>
                        <td>83%</td>
                    </tr>
                    <tr>
                        <td>Delicias</td>
                        <td>Blanca</td>
                        <td>89%</td>
                        <td>82%</td>
                        <td>78%</td>
                        <td>80%</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </section>

    <!-- M√ìDULO CENTROS -->
    <section id="centros" style="display:none;">
        <h1 class="section-title">üìç Centros</h1>
        <p>Aqu√≠ ir√° el m√≥dulo de Centros completo.</p>
    </section>

    <!-- M√ìDULO VISITAS -->
    <section id="visitas" style="display:none;">
        <h1 class="section-title">üìÖ Visitas</h1>
        <p>Calendario y edici√≥n de visitas.</p>
    </section>

    <!-- M√ìDULO EXCLUSIVOS -->
    <section id="exclusivos" style="display:none;">
        <h1 class="section-title">‚≠ê Centros Exclusivos</h1>
        <p>Acciones exclusivas, KPIs y checklist.</p>
    </section>

    <!-- M√ìDULO AAR -->
    <section id="aar" style="display:none;">
        <h1 class="section-title">üéß Servicio AAR</h1>
        <p>Formaci√≥n, perfiles y estado AAR.</p>
    </section>

    <!-- M√ìDULO PROYECTOS -->
    <section id="proyectos" style="display:none;">
        <h1 class="section-title">üìÇ Proyectos</h1>
        <p>M√≥dulo de proyectos.</p>
    </section>

</div>
<!-- ===========================
     SCRIPTS DE NAVEGACI√ìN
     =========================== -->
<script>
function showPage(pageName) {
    const pages = ["dashboard", "centros", "visitas", "exclusivos", "aar", "proyectos"];

    pages.forEach(p => {
        document.getElementById(p).style.display = (p === pageName ? "block" : "none");
    });

    // Actualiza estado activo en el sidebar
    const links = document.querySelectorAll(".sidebar a");
    links.forEach(link => link.classList.remove("active"));

    event.target.classList.add("active");
}

/* ===========================
   TEMA CLARO / OSCURO
   =========================== */
let darkMode = false;

function toggleTheme() {
    darkMode = !darkMode;

    if (darkMode) {
        document.body.style.background = "#1a1a1a";
        document.querySelector(".header").style.background = "#333";
        document.querySelector(".header").style.color = "white";
        document.querySelectorAll(".kpi-box").forEach(b => b.style.background = "#2a2a2a");
        document.querySelectorAll(".chart-container").forEach(c => c.style.background = "#2a2a2a");
    } else {
        document.body.style.background = "#f4f4f4";
        document.querySelector(".header").style.background = "white";
        document.querySelector(".header").style.color = "black";
        document.querySelectorAll(".kpi-box").forEach(b => b.style.background = "white");
        document.querySelectorAll(".chart-container").forEach(c => c.style.background = "white");
    }
}
</script>
<!-- ===========================
     DASHBOARD ‚Äî GR√ÅFICAS
     =========================== -->
<script>
/* ===========================
   GR√ÅFICA EVOLUCI√ìN MENSUAL
   =========================== */
const ctxEvo = document.getElementById("chartEvolucion");

new Chart(ctxEvo, {
    type: "line",
    data: {
        labels: ["Ago", "Sep", "Oct", "Nov", "Dic", "Ene", "Feb", "Mar", "Abr", "May", "Jun", "Jul"],
        datasets: [
            {
                label: "Procesos",
                data: [80, 82, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93],
                borderColor: "#E60000",
                borderWidth: 3,
                tension: 0.3
            },
            {
                label: "Formaciones",
                data: [70, 72, 73, 74, 76, 77, 78, 79, 80, 81, 82, 83],
                borderColor: "#ff7b00",
                borderWidth: 3,
                tension: 0.3
            },
            {
                label: "Conv. Prueba",
                data: [68, 70, 72, 73, 75, 76, 77, 78, 79, 80, 80, 81],
                borderColor: "#0099ff",
                borderWidth: 3,
                tension: 0.3
            },
            {
                label: "Conv. Venta",
                data: [67, 69, 70, 72, 73, 75, 77, 78, 79, 80, 80, 82],
                borderColor: "#00c853",
                borderWidth: 3,
                tension: 0.3
            },
            {
                label: "√Åreas de Mejora (Top 5)",
                data: [35, 33, 32, 30, 29, 27, 25, 24, 23, 22, 21, 20],
                borderColor: "#555",
                borderWidth: 3,
                borderDash: [5, 5],
                tension: 0.3
            }
        ]
    },
    options: {
        responsive: true,
        plugins: { legend: { labels: { color: "#000" } } },
        scales: {
            x: { ticks: { color: "#000" } },
            y: { ticks: { color: "#000", suggestedMin: 0, suggestedMax: 100 } }
        }
    }
});


/* ===========================
   GR√ÅFICA √ÅREAS DE MEJORA
   =========================== */
const ctxMej = document.getElementById("chartMejora");

new Chart(ctxMej, {
    type: "line",
    data: {
        labels: ["Ago", "Sep", "Oct", "Nov", "Dic", "Ene", "Feb", "Mar", "Abr", "May", "Jun", "Jul"],
        datasets: [
            {
                label: "Videotoscopia",
                data: [10, 9, 9, 8, 8, 7, 7, 6, 6, 6, 5, 5],
                borderColor: "#E60000",
                borderWidth: 3,
                tension: 0.3
            },
            {
                label: "Anamnesis",
                data: [8, 8, 7, 7, 6, 6, 6, 5, 5, 5, 4, 4],
                borderColor: "#ff7b00",
                borderWidth: 3,
                tension: 0.3
            },
            {
                label: "Logoaudiometr√≠a",
                data: [7, 7, 6, 6, 5, 5, 5, 4, 4, 4, 3, 3],
                borderColor: "#0099ff",
                borderWidth: 3,
                tension: 0.3
            },
            {
                label: "Explicar HIT",
                data: [9, 8, 8, 7, 7, 6, 6, 6, 5, 5, 4, 4],
                borderColor: "#00c853",
                borderWidth: 3,
                tension: 0.3
            },
            {
                label: "Agenda Inteligente",
                data: [11, 10, 10, 9, 9, 8, 8, 7, 7, 6, 6, 6],
                borderColor: "#555",
                borderWidth: 3,
                tension: 0.3
            }
        ]
    },
    options: {
        responsive: true,
        plugins: { legend: { labels: { color: "#000" } } },
        scales: {
            x: { ticks: { color: "#000" } },
            y: { ticks: { color: "#000" } }
        }
    }
});
</script>
</body>
</html>
